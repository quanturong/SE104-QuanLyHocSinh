<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>H·ªçc sinh ‚Äì Qu·∫£n l√≠ h·ªçc sinh</title>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body class="page-student sp-page">
  <div class="layout">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">üéì</div>
        <span>Student Management ‚Äì Qu·∫£n l√≠ h·ªçc sinh</span>
      </div>
      <nav class="nav">
        <a href="./tablecontrol.html">B·∫£ng ƒëi·ªÅu khi·ªÉn</a>
        <a class="active" href="./student.html">H·ªçc sinh</a>
        <a href="./class.html">L·ªõp h·ªçc</a>
        <a href="./attendance.html">ƒêi·ªÉm danh</a>
        <a href="./report.html">B√°o c√°o</a>
        <a href="./scoretable.html">ƒêi·ªÉm s·ªë</a>
        <a href="./timetable.html">Th·ªùi kh√≥a bi·ªÉu</a>
        <a href="./find.html">Tra c·ª©u</a>
        <a href="./teacher.html">Gi√°o vi√™n</a>  
        <a href="./rules.html">Quy ƒë·ªãnh</a>
        
      </nav>
      <div class="spacer"></div>
      <a class="nav logout" href="../login.html">ƒêƒÉng xu·∫•t</a>
    </aside>

    <main class="main">
      <div class="page-header">
        <h1 class="page-title">Danh s√°ch h·ªçc sinh</h1>
        <p class="page-desc">Qu·∫£n l√Ω th√¥ng tin h·ªçc sinh trong h·ªá th·ªëng</p>
      </div>

      <section class="card">
        <div class="toolbar">
          <input class="input" type="text" id="search" placeholder="T√¨m h·ªçc sinh theo t√™n ho·∫∑c m√£..." />
          <select class="select" id="filter-class">
            <option value="">T·∫•t c·∫£ l·ªõp</option>
                <option>12A1</option>
                <option>12A2</option>
                <option>11A1</option>
                <option>11A2</option>
                <option>10A1</option>
                <option>10A2</option>
                <option>10A3</option>
                <option>10A4</option>
          </select>
          <select class="select" id="filter-years">
            <option value="">NƒÉm h·ªçc</option>
              <option value="2024-2025">2039 - 2040</option>
              <option value="2023-2024">2038 - 2039</option>
              <option value="2022-2023">2037 - 2038</option>
              <option value="2024-2025">2036 - 2037</option>
              <option value="2023-2024">2035 - 2036</option>
              <option value="2022-2023">2034 - 2035</option>
              <option value="2024-2025">2033 - 2034</option>
              <option value="2023-2024">2032 - 2033</option>
              <option value="2022-2023">2031 - 2032</option>
              <option value="2024-2025">2030 - 2031</option>
              <option value="2023-2024">2029 - 2030</option>
              <option value="2022-2023">2028 - 2029</option>
              <option value="2024-2025">2027 - 2028</option>
              <option value="2023-2024">2026 - 2027</option>
              <option value="2022-2023">2025 - 2026</option>            
              <option value="2024-2025">2024 - 2025</option>
              <option value="2023-2024">2023 - 2024</option>
              <option value="2022-2023">2022 - 2023</option>
          </select>
          <select class="select" id="filter-status">
            <option value="">T·∫•t c·∫£ tr·∫°ng th√°i</option>
            <option value="ok">ƒêang h·ªçc</option>
            <option value="warn">C·∫£nh b√°o ngh·ªâ h·ªçc</option>
            <option value="debt">ƒê√£ th√¥i h·ªçc</option>
          </select>
          <button class="btn" id="btn-add">+ Th√™m h·ªçc sinh</button>
          <button class="btn" id="btn-del">- X√≥a h·ªçc sinh</button>
        </div>

        <div class="table-wrap" style="overflow:auto; max-height:520px;">
          <table class="table" id="tbl-students">
            <thead>
              <tr>
                <th>M√£ HS</th>
                <th>H·ªç t√™n</th>
                <th>L·ªõp</th>
                <th>Ng√†y sinh</th>
                <th>Li√™n l·∫°c</th>
                <th>Tr·∫°ng th√°i</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>HS0921</td>
                <td>Nguy·ªÖn Di·ªáu Anh</td>
                <td>12C3</td>
                <td>18/11/2007</td>
                <td>0901 234 567</td>
                <td><span class="badge b-success">ƒêang h·ªçc</span></td>
                <td><button class="btn btn-sm">S·ª≠a</button></td>
              </tr>
              <tr>
                <td>HS1042</td>
                <td>Tr·∫ßn Minh Qu√¢n</td>
                <td>11B1</td>
                <td>22/05/2008</td>
                <td>0912 111 222</td>
                <td><span class="badge b-warn">C·∫£nh b√°o</span></td>
                <td><button class="btn btn-sm">S·ª≠a</button></td>
              </tr>
              <tr>
                <td>HS1168</td>
                <td>Ph·∫°m Ho√†ng Anh</td>
                <td>10A2</td>
                <td>14/03/2009</td>
                <td>0988 345 666</td>
                <td><span class="badge b-danger">N·ª£ h·ªçc ph√≠</span></td>
                <td><button class="btn btn-sm">S·ª≠a</button></td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="pagination">
          <button class="btn-page" disabled>‚Äπ</button>
          <span class="page-info">Trang <strong>1</strong> / <strong>1</strong></span>
          <button class="btn-page" disabled>‚Ä∫</button>
        </div>
      </section>
    </main>
  </div>
  <div id="sp-overlay" class="sp-overlay" style="display:none">
    <div class="sp-modal" role="dialog" aria-modal="true" aria-labelledby="sp-title">
      <h2 id="sp-title" class="sp-title">H·ªì s∆° h·ªçc sinh</h2>

      <form id="sp-form" class="sp-form">
        <div class="sp-grid">
          <label class="sp-field">M√£ HS
            <input name="code" type="text" placeholder="VD: HS1234" />
          </label>
          <label class="sp-field">L·ªõp
            <input name="class" type="text" placeholder="VD: 10A1" />
          </label>
        </div>
        <label class="sp-field">H·ªç v√† t√™n <span class="sp-required">*</span>
          <input name="fullname" type="text" required placeholder="Nh·∫≠p h·ªç v√† t√™n h·ªçc sinh" />
        </label>

        <div class="sp-grid">
          <label class="sp-field">Gi·ªõi t√≠nh <span class="sp-required">*</span>
            <select name="gender" required>
              <option value="">-- Ch·ªçn gi·ªõi t√≠nh --</option>
              <option>Nam</option>
              <option>N·ªØ</option>
              <option>Kh√°c</option>
            </select>
          </label>
          <label class="sp-field">Ng√†y sinh <span class="sp-required">*</span>
            <input name="birthday" type="date" required />
          </label>
        </div>

        <label class="sp-field">ƒê·ªãa ch·ªâ <span class="sp-required">*</span>
          <input name="address" type="text" required placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ n∆°i ·ªü" />
        </label>

        <label class="sp-field">Email <span class="sp-required">*</span>
          <input name="email" type="email" required placeholder="example@gmail.com" />
        </label>
        <div class="sp-grid">
          <label class="sp-field">SƒêT
            <input name="phone" type="tel" placeholder="VD: 09xx xxx xxx" />
          </label>
          <label class="sp-field">Ng√†y nh·∫≠p h·ªçc
            <input name="enroll_date" type="date" />
          </label>
        </div>

        <div class="sp-grid">
          <label class="sp-field">Ph·ª• huynh
            <input name="guardian_name" type="text" placeholder="H·ªç t√™n ph·ª• huynh" />
          </label>
          <label class="sp-field">SƒêT ph·ª• huynh
            <input name="guardian_phone" type="tel" placeholder="VD: 09xx xxx xxx" />
          </label>
        </div>

        <label class="sp-field">Tr·∫°ng th√°i
          <select name="status">
            <option value="">-- Ch·ªçn tr·∫°ng th√°i --</option>
            <option value="ok">ƒêang h·ªçc</option>
            <option value="warn">C·∫£nh b√°o ngh·ªâ h·ªçc</option>
            <option value="debt">N·ª£ h·ªçc ph√≠</option>
            <option value="hold">B·∫£o l∆∞u</option>
            <option value="grad">ƒê√£ t·ªët nghi·ªáp</option>
          </select>
        </label>

        <label class="sp-field">Ghi ch√∫
          <input name="note" type="text" placeholder="Th√¥ng tin th√™m (n·∫øu c√≥)" />
        </label>

        <div class="sp-actions">
          <button type="button" class="sp-btn sp-btn--ghost" id="sp-cancel">H·ªßy</button>
          <button type="submit" class="sp-btn">L∆∞u h·ªì s∆°</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    const overlay = document.getElementById('sp-overlay');
    const btnAdd = document.getElementById('btn-add');
    const editBtns = document.querySelectorAll('#tbl-students .btn');

    function openStudentModal(prefill = {}) {
      Object.entries(prefill).forEach(([k,v])=>{
        const el = document.querySelector(`[name="${k}"]`);
        if (el) el.value = v;
      });
      overlay.style.display = 'grid';
      document.body.style.overflow = 'hidden';
    }
    function closeStudentModal(){
      overlay.style.display = 'none';
      document.body.style.overflow = '';
      document.getElementById('sp-form').reset();
    }

    btnAdd && (btnAdd.onclick = () => openStudentModal());
    editBtns.forEach(b => b.onclick = () => {
      const row = b.closest('tr').children;
      openStudentModal({
        code: row[0].innerText,
        fullname: row[1].innerText,
        class: row[2].innerText
      });
    });

    document.getElementById('sp-cancel').onclick = closeStudentModal;
    overlay.addEventListener('click', (e)=>{ if(e.target === overlay) closeStudentModal(); });

    document.getElementById('sp-form').onsubmit = (e)=>{
      e.preventDefault();
      alert('ƒê√£ l∆∞u h·ªì s∆° h·ªçc sinh!');
      closeStudentModal();
    };
  </script>
</body>
</html>